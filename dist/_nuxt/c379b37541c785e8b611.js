(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{484:function(e,t,o){"use strict";o.d(t,"a",(function(){return c})),o.d(t,"b",(function(){return m})),o.d(t,"c",(function(){return f}));var r=/^1[345789]\d{9}$/,n=/^\w+@\w+(?:\.\w+)+$/,l=/[a-z0-9]{6,16}/,c=function(e,t,o){t?l.test(t)?o():o(new Error("请输入6-16位字母和数字组合的密码")):o(new Error("请输入密码"))},m=function(e,t,o){t?n.test(t)?o():o(new Error("请输入正确的电子邮箱格式")):o(new Error("请输入邮箱号码"))},f=function(e,t,o){t?r.test(t)?o():o(new Error("请输入正确的手机号码")):o(new Error("请输入手机号码"))}},532:function(e,t,o){},577:function(e,t,o){"use strict";var r=o(532);o.n(r).a},612:function(e,t,o){"use strict";o.r(t);o(272);var r=o(484),n=o(4),l=o(55),c={data:function(){var e=this;return{activeNav:"",codeImg:"",region:[],regex:{},isSendEmail:!0,isSendPhone:!0,emailTime:60,phoneTime:60,forgetNav:["手机找回","邮箱找回","人工找回"],phoneForm:{region:"",code:"",graphic:"",phone:"",type:"1"},phoneRules:{phone:[{required:!0,validator:function(t,o,r){if(o){var n=e.regex;n=n.substring(1,n.length-1),new RegExp(n).test(o)?r():r(new Error("请输入正确的手机号码"))}else r(new Error("请输入您的手机号码"))},trigger:"blur"}],graphic:[{required:!0,message:"请输入图形验证码",trigger:"blur"}],code:[{required:!0,message:"请输入短信验证码",trigger:"blur"}]},emailForm:{email:"",code:"",type:"1"},emailRules:{email:[{required:!0,validator:r.b,trigger:"blur"}],code:[{required:!0,message:"请输入邮箱验证码",trigger:"blur"}]}}},mounted:function(){var e=this;e.activeNav=e.forgetNav[0];var t=Object(n.e)("region");t?(e.region=t,e.regex=t[0].regex):l.a.get("/region/list").then((function(t){e.region=t,e.regex=t[0].regex,Object(n.k)("region",t)})),0!=e.region.length&&(e.phoneForm.region=e.region[0].region),e.changeGraphic()},methods:{areaSelect:function(e){this.regex=this.region.filter((function(t){return t.region==e}))[0].regex},changeGraphic:function(){var e=this;l.a.get("/verify/captcha").then((function(t){e.codeImg=t.base64_images}))},sendCode:function(e){var t=this;"phone"==e&&t.isSendPhone&&t.$refs.phoneForm.validateField("phone",(function(e){""==e?t.$refs.phoneForm.validateField("graphic",(function(e){if(""==e){var o={code:t.phoneForm.graphic,phone:t.phoneForm.phone,region:t.phoneForm.region,type:"1"};l.a.post("/verify/send-phone",o).then((function(e){if(e){t.isSendPhone=!1,t.$message({message:"手机证码发送成功！",type:"success"});var o=setInterval((function(){t.phoneTime--,0==t.phoneTime&&(t.isSendPhone=!0,t.phoneTime=60,clearInterval(o))}),1e3)}})).catch((function(e){t.isSendPhone=!0}))}else t.$message({message:e,type:"error"})})):t.$message({message:e,type:"error"})})),"email"==e&&t.isSendEmail&&t.$refs.emailForm.validateField("email",(function(e){if(""==e){var o={email:t.emailForm.email,type:"1"};l.a.post("/verify/send-email",o).then((function(e){if(e){t.isSendEmail=!1,t.$message({message:"邮箱验证码发送成功！",type:"success"});var o=setInterval((function(){t.emailTime--,0==t.emailTime&&(t.isSendEmail=!0,t.emailTime=60,clearInterval(o))}),1e3)}})).catch((function(e){t.isSendEmail=!0}))}else t.$message({message:e,type:"error"})}))},submitForm:function(e){var t=this;t.$refs[e].validate((function(o){if(o){var r={};r="emailForm"==e?{code:t.emailForm.code,accept:t.emailForm.email}:{code:t.phoneForm.code,accept:t.phoneForm.phone},l.a.post("/password/reset-token",r).then((function(e){if(e.password_reset_token){var o=t.$message({message:"正在跳转至重置密码页面~！",type:"success"});setTimeout((function(){o.close(),t.$store.commit("SET_RESET",e.password_reset_token),t.$router.push("/login/password")}),1500)}}))}}))}}},m=(o(577),o(10)),component=Object(m.a)(c,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login"},[o("div",{staticClass:"forget"},[o("p",{staticClass:"forget_title tc"},[e._v("找回密码")]),e._v(" "),o("ul",{staticClass:"forget_nav"},e._l(e.forgetNav,(function(t,r){return o("li",{key:r,staticClass:"tc",class:{active:e.activeNav==t},on:{click:function(o){e.activeNav=t}}},[e._v(e._s(t)+"\n      ")])})),0),e._v(" "),e.activeNav==e.forgetNav[0]?o("div",{key:"phone_code",staticClass:"forget_phone isForget"},[o("el-form",{ref:"phoneForm",staticClass:"login_form",attrs:{model:e.phoneForm,"status-icon":"",rules:e.phoneRules,"label-width":"0px"}},[o("div",{attrs:{id:"isPhone"}},[o("el-form-item",{staticClass:"isRegion"},[o("el-select",{attrs:{placeholder:"请选择区号"},on:{change:e.areaSelect},model:{value:e.phoneForm.region,callback:function(t){e.$set(e.phoneForm,"region",t)},expression:"phoneForm.region"}},e._l(e.region,(function(t,r){return o("el-option",{key:r,attrs:{label:t.region,value:t.region}},[e._v("\n                "+e._s(t.region)+"\n              ")])})),1)],1),e._v(" "),o("el-form-item",{staticClass:"isPhone",attrs:{prop:"phone"}},[o("el-input",{attrs:{placeholder:"请输入手机号",autocomplete:"off"},model:{value:e.phoneForm.phone,callback:function(t){e.$set(e.phoneForm,"phone",e._n(t))},expression:"phoneForm.phone"}})],1)],1),e._v(" "),o("div",{attrs:{id:"graphic"}},[o("el-form-item",{attrs:{prop:"graphic"}},[o("el-input",{attrs:{type:"text",placeholder:"请输入图形验证码",autocomplete:"off"},model:{value:e.phoneForm.graphic,callback:function(t){e.$set(e.phoneForm,"graphic","string"==typeof t?t.trim():t)},expression:"phoneForm.graphic"}})],1),e._v(" "),o("img",{attrs:{src:e.codeImg,alt:""},on:{click:e.changeGraphic}})],1),e._v(" "),o("div",{staticClass:"code"},[o("el-form-item",{attrs:{prop:"code"}},[o("el-input",{attrs:{type:"text",placeholder:"请输入短信验证码",autocomplete:"off"},model:{value:e.phoneForm.code,callback:function(t){e.$set(e.phoneForm,"code","string"==typeof t?t.trim():t)},expression:"phoneForm.code"}})],1),e._v(" "),o("el-button",{staticClass:"sendCode",attrs:{type:"primary"},on:{click:function(t){return e.sendCode("phone")}}},[e._v("\n            "+e._s(e.isSendEmail?"发送验证码":e.phoneTime+"秒后可重新发送")+"\n          ")])],1),e._v(" "),o("el-form-item",{staticClass:"forget_submit"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("phoneForm")}}},[e._v("确 定")])],1)],1)],1):e.activeNav==e.forgetNav[1]?o("div",{key:"email_code",staticClass:"forget_email isForget"},[o("el-form",{ref:"emailForm",staticClass:"login_form",attrs:{model:e.emailForm,"status-icon":"",rules:e.emailRules,"label-width":"0px"}},[o("el-form-item",{attrs:{prop:"email"}},[o("el-input",{attrs:{type:"text",placeholder:"请输入您的邮箱号",autocomplete:"off"},model:{value:e.emailForm.email,callback:function(t){e.$set(e.emailForm,"email","string"==typeof t?t.trim():t)},expression:"emailForm.email"}})],1),e._v(" "),o("div",{staticClass:"code"},[o("el-form-item",{attrs:{prop:"code"}},[o("el-input",{attrs:{type:"text",placeholder:"请输入邮箱验证码",autocomplete:"off"},model:{value:e.emailForm.code,callback:function(t){e.$set(e.emailForm,"code","string"==typeof t?t.trim():t)},expression:"emailForm.code"}})],1),e._v(" "),o("el-button",{staticClass:"sendCode",attrs:{type:"primary"},on:{click:function(t){return e.sendCode("email")}}},[e._v("\n            "+e._s(e.isSendEmail?"发送验证码":e.emailTime+"秒后可重新发送")+"\n          ")])],1),e._v(" "),o("el-form-item",{staticClass:"forget_submit"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("emailForm")}}},[e._v("确 定")])],1)],1)],1):o("div",{staticClass:"forget_artificial isForget"},[o("p",[e._v("customerservice@ukec.com")]),e._v(" "),o("p",[e._v("UKEC-CustomerService")])])])])}),[],!1,null,null,null);t.default=component.exports}}]);