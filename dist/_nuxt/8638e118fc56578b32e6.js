(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{518:function(t,e,n){},562:function(t,e,n){"use strict";var r=n(518);n.n(r).a},599:function(t,e,n){"use strict";n.r(e);n(34);var r=n(5),l=n(89),c=n(4),o={data:function(){return{confirm:{},tableData:[],planId:"",idArr:[],isDisabled:!1,confirmIndex:null,selectArr:[]}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t).planId=n.$route.query.id,n.confirmIndex=n.$route.query.index,e.next=5,l.a.get("/customer-material/apply-list",{id:n.planId});case 5:(r=e.sent)&&(n.confirm=r[n.confirmIndex],n.confirm.list.length>0&&("未确认"==n.confirm.material_status?n.isDisabled=!1:t.isDisabled=!0,n.confirm.list.map((function(t,e){t.university_cn=n.confirm.university_cn,t.major_cn=n.confirm.major_cn,"已通过"==t.status&&n.selectArr.push(t)})),n.tableData=n.confirm.list,n.$nextTick((function(){n.selectArr.map((function(t){n.$refs.multipleTable.toggleRowSelection(t)}))}))));case 7:case"end":return e.stop()}}),e)})))()},filters:{timeFormat:function(t){return Object(c.m)(t)}},methods:{checkboxT:function(t,e){return this.isDisabled?0:1},handleSelectionChange:function(t){var e=this;t.map((function(t){e.idArr.push(t.id)}))},sure:function(){var t=this;if(t.idArr.length>0){var e=t.idArr.join(",");l.a.post("/customer-material/sure",{question_id:t.planId,material_ids:e}).then((function(e){var n=t.$message({message:"提交成功！",type:"success"});setTimeout((function(){n.close(),t.$router.push("/writ/confirm")}),1e3)}))}else t.$message.warning("请先选择您要确认的材料！")}}},m=(n(562),n(10)),component=Object(m.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cv con"},[n("div",{staticClass:"cv_step2"},[t._m(0),t._v(" "),n("div",{staticClass:"refactor_table"},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",data:t.tableData,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"50",selectable:t.checkboxT}}),t._v(" "),n("el-table-column",{attrs:{label:"用于申请院校",prop:"university_cn"}}),t._v(" "),n("el-table-column",{attrs:{label:"用于申请专业",prop:"major_cn"}}),t._v(" "),n("el-table-column",{attrs:{label:"材料类型",prop:"materialname_cn"}}),t._v(" "),n("el-table-column",{attrs:{label:"材料名称",prop:"material_name"}}),t._v(" "),n("el-table-column",{attrs:{label:"文件"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("a",{attrs:{href:e.row.file_url,target:"_blank"}},[t._v(t._s(e.row.origin_name))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"上传时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("timeFormat")(e.row.create_time)))])]}}])})],1)],1),t._v(" "),t.isDisabled?t._e():n("div",{staticClass:"cv_footer"},[n("div",{staticClass:"confirm_button"},[n("span",{on:{click:function(e){return t.sure()}}},[t._v("确认材料")])]),t._v(" "),t._m(1)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title_box"},[e("div",{staticClass:"cv_title"},[e("p",[this._v("材料确认")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"next"},[this._v("请勾选您需要确认的材料进行确认，对于您尚有疑问的材料请勿勾选"),e("br"),this._v("若全选材料确认后，该方案将变为已确认，我们将以此材料进行申请")])}],!1,null,null,null);e.default=component.exports}}]);