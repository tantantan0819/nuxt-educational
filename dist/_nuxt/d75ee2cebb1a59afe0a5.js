(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{484:function(e,r,t){"use strict";t.d(r,"a",(function(){return c})),t.d(r,"b",(function(){return m})),t.d(r,"c",(function(){return f}));var n=/^1[345789]\d{9}$/,o=/^\w+@\w+(?:\.\w+)+$/,l=/[a-z0-9]{6,16}/,c=function(e,r,t){r?l.test(r)?t():t(new Error("请输入6-16位字母和数字组合的密码")):t(new Error("请输入密码"))},m=function(e,r,t){r?o.test(r)?t():t(new Error("请输入正确的电子邮箱格式")):t(new Error("请输入邮箱号码"))},f=function(e,r,t){r?n.test(r)?t():t(new Error("请输入正确的手机号码")):t(new Error("请输入手机号码"))}},500:function(e,r,t){},548:function(e,r,t){"use strict";var n=t(500);t.n(n).a},585:function(e,r,t){"use strict";t.r(r);t(34);var n=t(5),o=t(484),l=t(4),c=t(55),m=t(89),f={data:function(){return{isShow:!1,interval:2e3,carouselImg:["/images/login/utrack_login.jpg"],loginForm:{password:"",username:"",from:"PC"},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,validator:o.a,trigger:"blur"}]}}},mounted:function(){var e=this;setTimeout((function(){e.isShow=!0}),1)},methods:{login:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e,r.abrupt("return",c.a.post("/login/login",t.loginForm));case 2:case"end":return r.stop()}}),r)})))()},isCrm:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e,r.next=3,e.login();case 3:r.sent&&m.a.get("/utrack-user/is-crm-user").then((function(e){if("yes"==e){var r=t.$message({message:"登录成功！",type:"success"});setTimeout((function(){r.close(),t.$store.commit("user/SET_USER",{}),t.$store.commit("SET_RESET",""),Object(l.k)("isLogin","1"),t.$router.push("/home")}),1500)}else t.$message({message:"该客户不在crm系统内，请联系您的顾问老师！",type:"error"})}));case 5:case"end":return r.stop()}}),r)})))()},submitForm:function(e){var r=this;r.$refs[e].validate((function(e){e&&r.isCrm()}))},forget:function(){this.$router.push("/login/forget")}}},d=(t(548),t(10)),component=Object(d.a)(f,(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"login"},[t("div",{staticClass:"login_box"},[t("el-carousel",{attrs:{id:"loginImg",trigger:"click",height:"601px","indicator-position":"none",arrow:"never",interval:e.interval}},e._l(e.carouselImg,(function(e,r){return t("el-carousel-item",{key:r},[t("img",{attrs:{src:e,alt:""}})])})),1),e._v(" "),t("div",{staticClass:"loginForm"},[t("div",{staticClass:"form_box"},[t("p",{staticClass:"login_title tc"},[e._v("欢迎登录")]),e._v(" "),t("el-form",{ref:"loginForm",staticClass:"login_form",attrs:{model:e.loginForm,"status-icon":"",rules:e.rules,"label-width":"0px",autocomplete:"off"}},[t("el-form-item",{attrs:{prop:"username"}},[e.isShow?t("el-input",{attrs:{placeholder:"请输入账号",autocomplete:"off"},nativeOn:{keydown:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.submitForm("loginForm")}},model:{value:e.loginForm.username,callback:function(r){e.$set(e.loginForm,"username",e._n(r))},expression:"loginForm.username"}}):e._e()],1),e._v(" "),t("el-form-item",{attrs:{prop:"password"}},[e.isShow?t("el-input",{attrs:{type:"passward",placeholder:"请输入密码",autocomplete:"off","show-password":""},nativeOn:{keydown:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.submitForm("loginForm")}},model:{value:e.loginForm.password,callback:function(r){e.$set(e.loginForm,"password",r)},expression:"loginForm.password"}}):e._e()],1),e._v(" "),t("el-form-item",{staticClass:"login_submit"},[t("div",{staticClass:"forget_password"},[t("span",{on:{click:e.forget}},[e._v("忘记密码?")])]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("loginForm")}}},[e._v(" 登 录")])],1)],1)],1)])],1)])}),[],!1,null,null,null);r.default=component.exports}}]);