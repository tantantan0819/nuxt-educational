(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{525:function(t,e,l){},570:function(t,e,l){"use strict";var c=l(525);l.n(c).a},605:function(t,e,l){"use strict";l.r(e);var c=l(71),r=l(55),n=l(4),o={layout:"refactor",data:function(){return{preview:{},user:{},crmUser:{},education:[],academic:[],work:[],school:[],introduce:[],isMackCV:!1,isCommit:!0}},mounted:function(){var t=this,e=this.$store.state.user;Object(n.c)(e)?r.a.get("/user/detail").then((function(e){t.$store.commit("user/SET_USER",e),t.user=t.$store.state.user})):t.user=e,c.a.get("/customer/get-info").then((function(e){e&&(t.crmUser=e)})),t.getPreview(),t.checkCV()},methods:{checkCV:function(){var t=this;c.a.get("/schedule/check-cv").then((function(e){0==e.length?t.isMackCV=!1:t.isMackCV=!0}))},getPreview:function(){var t=this;c.a.get("/customer-pre-see/list").then((function(e){t.preview=e,t.education=e.education,t.academic=e.academic,t.work=e.work,t.school=e.school,t.introduce=e.introduce}))},close:function(){window.close(),this.$router.push("/writ/cv/step1")},makeCV:function(){var t=this;0==t.isMackCV&&t.isCommit&&(t.commit=!1,c.a.get("/schedule/add-cv").then((function(e){if(e){t.$message({message:"提交成功！",type:"success"});t.isMackCV=!0,t.commit=!0}})))}},filters:{timeFormat:function(time){var t="";return time&&(t=Object(n.a)(time)),t},phoneFormat:function(t){var e=[],l=t+"";return t?(e.push(l.slice(0,3)),e.push(l.slice(3,7)),e.push(l.slice(7,11)),e.join("-")):""}}},v=(l(570),l(10)),component=Object(v.a)(o,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"preview cv"},[t._m(0),t._v(" "),l("div",{staticClass:"content cv_step2"},[l("div",{staticClass:"info"},[l("div",{staticClass:"infoBox"},[l("div",{staticClass:"info_name"},[t._v(t._s(t.crmUser.customer_name||"--"))]),t._v(" "),l("div",{staticClass:"info_other"},[l("span",[t._v("电话:"+t._s(t._f("phoneFormat")(t.crmUser.phone)))]),t._v(" "),l("span",[t._v("邮箱:"+t._s(t.crmUser.email||""))])]),t._v(" "),l("div",{staticClass:"info_other"},[l("span",[t._v("生日:"+t._s(t.crmUser.birthday))]),t._v(" "),"0"==t.crmUser.sex?l("span",[t._v("性别:未知")]):"4"==t.crmUser.sex?l("span",[t._v("性别:男")]):"5"==t.crmUser.sex?l("span",[t._v("性别:女")]):l("span")]),t._v(" "),l("div",{staticClass:"info_other"},[l("span",[t._v("地址:"+t._s(t.crmUser.now_address))])])]),t._v(" "),l("div",{staticClass:"avatarBox"},[t.user.avatar?l("span",{staticClass:"info_avatar"},[l("img",{attrs:{src:t.user.avatar,alt:""}})]):l("span",{staticClass:"info_avatar"},[l("img",{attrs:{src:"/images/avatar.jpg",alt:""}})])])]),t._v(" "),""!=t.preview.education?l("div",{staticClass:"cv_item"},[t._m(1),t._v(" "),l("div",{staticClass:"cv_content cv2 centerTable previewTable"},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.education,stripe:""}},[l("el-table-column",{attrs:{type:"index",label:"序号",width:"74"}}),t._v(" "),l("el-table-column",{attrs:{prop:"admission_date",label:"入学时间",width:"120"}}),t._v(" "),l("el-table-column",{attrs:{prop:"graduaction_date",label:"毕业时间",width:"120"}}),t._v(" "),l("el-table-column",{attrs:{prop:"school_name",label:"毕业/就读院校"}}),t._v(" "),l("el-table-column",{attrs:{prop:"majorname_cn",label:"毕业/就读专业"}}),t._v(" "),l("el-table-column",{attrs:{prop:"qualification_name",label:"学历",width:"140"}}),t._v(" "),l("el-table-column",{attrs:{prop:"average_result",label:"平均成绩",width:"100"}})],1)],1)]):t._e(),t._v(" "),""!=t.preview.academic?l("div",{staticClass:"cv_item"},[t._m(2),t._v(" "),l("div",{staticClass:"cv_content centerTable step3Table cv2 previewTable"},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.academic,stripe:""}},[l("el-table-column",{attrs:{type:"index",label:"序号",width:"74"}}),t._v(" "),l("el-table-column",{attrs:{prop:"start_time",label:"开始时间",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"end_time",label:"结束时间",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"program",label:"项目名称",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"job",label:"职位",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"exp",label:"经历描述"}})],1)],1)]):t._e(),t._v(" "),""!=t.preview.work?l("div",{staticClass:"cv_item"},[t._m(3),t._v(" "),l("div",{staticClass:"cv_content cv2 centerTable step3Table previewTable"},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.work,stripe:""}},[l("el-table-column",{attrs:{type:"index",label:"序号",width:"74"}}),t._v(" "),l("el-table-column",{attrs:{prop:"start_time",label:"开始时间",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"end_time",label:"结束时间",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"company",label:"工作/实习单位",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"job",label:"职位",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"descript",label:"经历描述"}})],1)],1)]):t._e(),t._v(" "),""!=t.preview.school?l("div",{staticClass:"cv_item"},[t._m(4),t._v(" "),l("div",{staticClass:"cv_content cv2 centerTable step3Table previewTable"},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.school,stripe:""}},[l("el-table-column",{attrs:{type:"index",label:"序号",width:"74"}}),t._v(" "),l("el-table-column",{attrs:{prop:"start_time",label:"开始时间",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"end_time",label:"结束时间",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"descript",label:"校园活动"}})],1)],1)]):t._e(),t._v(" "),""!=t.preview.introduce?l("div",{staticClass:"cv_item"},[t._m(5),t._v(" "),l("div",{staticClass:"cv_content cv2 previewTable"},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:t.introduce,stripe:""}},[l("el-table-column",{attrs:{prop:"interest",label:"兴趣"}}),t._v(" "),l("el-table-column",{attrs:{prop:"lang",label:"语言"}}),t._v(" "),l("el-table-column",{attrs:{prop:"skill",label:"技能"}}),t._v(" "),l("el-table-column",{attrs:{prop:"certificate",label:"证书"}})],1)],1)]):t._e()]),t._v(" "),l("div",{staticClass:"preview_close"},[l("span",{on:{click:t.close}},[t._v("关闭")]),t._v(" "),l("span",{on:{click:t.makeCV}},[t._v(t._s(0==t.isMackCV?"提交CV制作素材":"已提交CV制作"))])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title_box"},[e("div",{staticClass:"cv_title"},[e("p",[this._v("我的CV")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title_box1"},[e("div",{staticClass:"cv_title"},[e("p",[this._v("教育背景")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title_box1"},[e("div",{staticClass:"cv_title"},[e("p",[this._v("学术经历")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title_box1 job_title"},[e("div",{staticClass:"cv_title"},[e("p",[this._v("工作/实习经历")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title_box1"},[e("div",{staticClass:"cv_title"},[e("p",[this._v("校园活动")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title_box1 language_title"},[e("div",{staticClass:"cv_title"},[e("p",[this._v("兴趣/语言/技能/证书")])])])}],!1,null,null,null);e.default=component.exports}}]);