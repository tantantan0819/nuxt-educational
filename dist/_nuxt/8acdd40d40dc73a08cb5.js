(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{502:function(t,l,n){},546:function(t,l,n){"use strict";var e=n(502);n.n(e).a},582:function(t,l,n){"use strict";n.r(l);var e=n(89),_=n(55),o={layout:"refactor",data:function(){return{planShow:!1,planData:[],uploadArr:[],uploadHref:"",user_id:"",planDetail:{user_info:{stu_name:"",education:"","大学名称":""}}}},mounted:function(){var t=this;t.getPlan(),_.a.get("/user/detail").then((function(l){l&&(t.user_id=l.id)}))},filters:{isYes:function(t){var l="";return t&&(l="0"==t?"否":"是"),l}},methods:{upload:function(){var t=this;if(this.uploadArr.length>0){var l=this.uploadArr.join(",");e.a.get("/down-file/down",{id:this.user_id,ids:l}).then((function(l){if(l){var n=t.planData[0].user_info.stu_name+".doc",e=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}),_=window.URL.createObjectURL(e),link=document.createElement("a");link.style.display="none",link.href=_,link.setAttribute("download",n),document.body.appendChild(link),link.click(),window.URL.revokeObjectURL(link.href)}})).catch((function(t){console.log(t,"error")}))}else this.$message.warning("请先选择您要下载的方案！")},getPlan:function(){var t=this;e.a.get("/utrack-school-plan/list").then((function(l){l&&(t.planData=l.major)}))},handleEdit:function(t,l){var n=l.id,_=this;e.a.get("/utrack-school-plan/detail",{id:n}).then((function(t){t&&(_.planDetail=t.major[0],_.planShow=!0)}))},handleSelectionChange:function(t){var l=this;l.uploadArr=[],t.length>0&&t.map((function(t){l.uploadArr.push(t.id)}))}}},v=(n(546),n(10)),component=Object(v.a)(o,(function(){var t=this,l=t.$createElement,n=t._self._c||l;return n("div",{staticClass:"plan con"},[n("div",{staticClass:"version_title two_title"},[n("span",[t._v("我的方案")]),t._v(" "),n("span",{on:{click:t.upload}},[t._v("下载方案")])]),t._v(" "),n("div",{staticClass:"refactor_table"},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",data:t.planData,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"50"}}),t._v(" "),n("el-table-column",{attrs:{type:"index",label:"序号",width:"60"}}),t._v(" "),n("el-table-column",{attrs:{label:"学生姓名",width:"90",prop:"user_info.stu_name"}}),t._v(" "),n("el-table-column",{attrs:{label:"入学年份",width:"90",prop:"user_info.begin_year"}}),t._v(" "),n("el-table-column",{attrs:{label:"平均分",width:"70",prop:"user_info.avg_score"}}),t._v(" "),n("el-table-column",{attrs:{label:"推荐院校",prop:"大学名称",width:"240"},scopedSlots:t._u([{key:"default",fn:function(l){return[n("p",{staticClass:"school_text"},[t._v(t._s(l.row.大学名称))])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"专业名称",prop:"mj_name",width:"240"},scopedSlots:t._u([{key:"default",fn:function(l){return[n("p",{staticClass:"school_text"},[t._v(t._s(l.row.mj_name))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"大学地址",label:"地理位置",width:"100"}}),t._v(" "),n("el-table-column",{attrs:{prop:"排名",label:"英国排名",width:"90"}}),t._v(" "),n("el-table-column",{attrs:{prop:"QS排名",label:"世界排名",width:"90"}}),t._v(" "),n("el-table-column",{attrs:{prop:"mj_apply",label:"申请费",width:"70"},scopedSlots:t._u([{key:"default",fn:function(l){return[n("p",{staticClass:"free"},[l.row.mj_apply?n("i",[t._v("￥")]):t._e(),t._v("\n                        "+t._s(l.row.mj_apply)+"\n                    ")])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"mj_fee",label:"学费",width:"90"},scopedSlots:t._u([{key:"default",fn:function(l){return[n("p",{staticClass:"free"},[l.row.mj_fee?n("i",[t._v("￥")]):t._e(),t._v("\n                        "+t._s(l.row.mj_fee)+"\n                    ")])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"intl",label:"入学要求",width:"150"},scopedSlots:t._u([{key:"default",fn:function(l){return[n("p",{staticClass:"avg_core"},[t._v(t._s(l.row.intl))])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"avg_core",label:"平均分要求",width:"100"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(l){return[n("el-button",{staticClass:"table_btn",attrs:{size:"mini"},on:{click:function(n){return t.handleEdit(l.$index,l.row)}}},[t._v("详情")])]}}])})],1)],1),t._v(" "),n("div",{staticClass:"add_note"},[n("el-dialog",{attrs:{visible:t.planShow,width:"1024px",center:""},on:{"update:visible":function(l){t.planShow=l}}},[n("div",{staticClass:"add_title"},[t._v("方案详情")]),t._v(" "),n("div",{staticClass:"add_con plan_add_plan"},[n("div",{staticClass:"plan_item"},[n("div",{staticClass:"plan_title"},[t._v("基本信息")]),t._v(" "),n("div",{staticClass:"plan_wrap plan_wrapper"},[n("div",{staticClass:"plan_box"},[n("span",[t._v("姓名")]),t._v(" "),n("span",[t._v(t._s(t.planDetail.user_info.stu_name||""))])]),t._v(" "),n("div",{staticClass:"plan_box"},[n("span",[t._v("目前学历")]),t._v(" "),n("span",[t._v(t._s(t.planDetail.user_info.education))])]),t._v(" "),n("div",{staticClass:"plan_box"},[n("span",[t._v("毕业/就读院校")]),t._v(" "),n("span",[t._v(t._s(t.planDetail.user_info.毕业学校))])]),t._v(" "),n("div",{staticClass:"plan_box"},[n("span",[t._v("是否211")]),t._v(" "),n("span",[t._v(t._s(t._f("isYes")(t.planDetail.user_info.school_type)))])]),t._v(" "),n("div",{staticClass:"plan_box"},[n("span",[t._v("学校排名")]),t._v(" "),n("span",[t._v(t._s(t.planDetail.user_info.school_rank))])]),t._v(" "),n("div",{staticClass:"plan_box"},[n("span",[t._v("毕业/就读专业学科")]),t._v(" "),n("span",[t._v(t._s(t.planDetail.user_info.毕业就读专业))])]),t._v(" "),n("div",{staticClass:"plan_box"},[n("span",[t._v("平均分(%)")]),t._v(" "),n("span",[t._v(t._s(t.planDetail.user_info.avg_score))])]),t._v(" "),n("div",{staticClass:"plan_box"},[n("span",[t._v("就读年份")]),t._v(" "),n("span",[t._v(t._s(t.planDetail.user_info.begin_year))])]),t._v(" "),n("div",{staticClass:"plan_box"},[n("span",[t._v("目标地区")]),t._v(" "),n("span",[t._v(t._s(t.planDetail.user_info.target_area))])]),t._v(" "),n("div",{staticClass:"plan_box"},[n("span",[t._v("目标城市")]),t._v(" "),n("span",[t._v(t._s(t.planDetail.user_info.target_city))])]),t._v(" "),n("div",{staticClass:"plan_box"},[n("span",[t._v("教育官员")]),t._v(" "),n("span",[t._v(t._s(t.planDetail.user_info.educrat))])]),t._v(" "),n("div",{staticClass:"plan_box"},[n("span",[t._v("联系方式")]),t._v(" "),n("span",[t._v(t._s(t.planDetail.user_info.link))])]),t._v(" "),n("div",{staticClass:"plan_box width_box"},[n("span",[t._v("选择此专业的动机")]),t._v(" "),n("span",[t._v(t._s(t.planDetail.user_info.moto))])])])]),t._v(" "),n("div",{staticClass:"plan_item"},[n("div",{staticClass:"plan_title"},[t._v("择校方案")]),t._v(" "),n("div",{staticClass:"plan_wrap plan_wrapper"},[n("div",{staticClass:"plan_box"},[n("span",[t._v("目标学科")]),t._v(" "),n("span",[t._v(t._s(t.planDetail.user_info.目标学科))])]),t._v(" "),n("div",{staticClass:"plan_box"},[n("span",[t._v("学校名")]),t._v(" "),n("span",[t._v(t._s(t.planDetail.大学名称))])]),t._v(" "),n("div",{staticClass:"plan_box"},[n("span",[t._v("地理位置")]),t._v(" "),n("span",[t._v(t._s(t.planDetail.大学地址))])]),t._v(" "),n("div",{staticClass:"plan_box"},[n("span",[t._v("英国排名")]),t._v(" "),n("span",[t._v(t._s(t.planDetail.排名))])]),t._v(" "),n("div",{staticClass:"plan_box"},[n("span",[t._v("世界排名")]),t._v(" "),n("span",[t._v(t._s(t.planDetail.QS排名))])]),t._v(" "),n("div",{staticClass:"plan_box"},[n("span",[t._v("申请专业")]),t._v(" "),n("span",[t._v(t._s(t.planDetail.mj_name))])]),t._v(" "),n("div",{staticClass:"plan_box"},[n("span",[t._v("申请费")]),t._v(" "),n("span",[t._v(t._s(t.planDetail.mj_apply))])]),t._v(" "),n("div",{staticClass:"plan_box"},[n("span",[t._v("学费")]),t._v(" "),n("span",[t._v(t._s(t.planDetail.mj_fee))])]),t._v(" "),n("div",{staticClass:"plan_box"},[n("span",[t._v("教育顾问备注(推荐理由)")]),t._v(" "),n("span",[t._v(t._s(t.planDetail.recommend_reason))])]),t._v(" "),n("div",{staticClass:"plan_box"},[n("span",[t._v("平均分要求")]),t._v(" "),n("span",[t._v(t._s(t.planDetail.avg_core))])]),t._v(" "),n("div",{staticClass:"plan_box"},[n("span",[t._v("专业连接")]),t._v(" "),n("span",[n("a",{attrs:{href:t.planDetail.url}},[t._v(t._s(t.planDetail.url))])])]),t._v(" "),n("div",{staticClass:"plan_box"},[n("span"),t._v(" "),n("span")]),t._v(" "),n("div",{staticClass:"plan_box width_box"},[n("span",[t._v("入学要求")]),t._v(" "),n("span",[t._v(t._s(t.planDetail.intl))])]),t._v(" "),n("div",{staticClass:"plan_box width_box"},[n("span",[t._v("核心课程")]),t._v(" "),n("span",[t._v(t._s(t.planDetail.mj_core))])])])]),t._v(" "),n("div",{staticClass:"add_footer"},[n("span",{on:{click:function(l){t.planShow=!1}}},[t._v("取消")])])])])],1)])}),[],!1,null,null,null);l.default=component.exports}}]);