(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{478:function(e,t,o){},479:function(e,t,o){"use strict";o(24),o(90),o(35);var n=o(5),r=o(55),l=o(7),c={props:["config"],data:function(){return{qiniu_url:"",configuration:{isShowList:!1,multiple:!1,limit:null,btnText:"上传",isPrompt:"",errorText:"请上传PNG、JPG、PDF、WORD、EXCEL格式的文件!",accept:".jpg, .jpeg, .png, .pdf, .excel, .docx,.psd,.PSD, .JPG, .JPEG, PNG, .PDF, .EXCEL, .DOCX"},postData:{token:"",name:"",key:""},tokenParams:{bucket:"ukec",path:"upload/user",ext:""},fileList:[]}},mounted:function(){this.configuration=this.config,this.qiniu_url=l.a.qiniu_url},methods:{beforUpload:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var n;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t,e.size/1024/1024<30||n.$message({message:"请上传大小不能超过30MB的文件!",type:"warning"}),n.tokenParams.ext=e.name.split(".")[1],n.postData.name=e.name,o.next=7,n.uploadToken();case 7:case"end":return o.stop()}}),o)})))()},uploadToken:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e,t.next=3,r.a.get("/qiniu/token",e.tokenParams).then((function(e){o.postData.token=e.token,o.postData.key=e.key}));case 3:case"end":return t.stop()}}),t)})))()},handleRemove:function(e,t){this.flieBox=t,this.$emit("uploadFile",t)},handleExceed:function(e,t){this.$message.warning("当前限制选择"+this.configuration.limit+"个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},uploadError:function(){this.$message.error(this.configuration.errorText)},successUpload:function(e,t,o){this.flieBox=o,this.$emit("uploadFile",o),"false"!=this.configuration.isPrompt&&this.$message({message:"上传成功！",type:"success"})}}},d=(o(480),o(10)),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"upload"},[o("el-upload",{staticClass:"upload-demo",attrs:{action:e.qiniu_url,data:e.postData,"before-upload":e.beforUpload,"on-success":e.successUpload,"on-remove":e.handleRemove,"show-file-list":e.configuration.isShowList,limit:e.configuration.limit,multiple:e.configuration.multiple,"on-exceed":e.handleExceed,"file-list":e.fileList,"on-error":e.uploadError,accept:e.configuration.accept}},[e._v(e._s(e.configuration.btnText))])],1)}),[],!1,null,"331b40b8",null);t.a=component.exports},480:function(e,t,o){"use strict";var n=o(478);o.n(n).a},481:function(e,t,o){"use strict";var n=o(71),r=o(4),l={props:["type"],components:{UploadBtn:o(479).a},data:function(){return{postUrl:"",titleMaxLength:500,dialogVisible:!1,configuration:{isShowList:!0,multiple:!0,limit:5,btnText:"上传",errorText:"请上传PNG、JPG、PDF、WORD、EXCEL格式的文件!",accept:".jpg, .jpeg, .png, .pdf,.doc,.xls,.JPG, .JPEG, PNG, .PDF,.DOC,.XLS"},flieBox:[],postData:{token:"",name:"",key:""},tokenParams:{bucket:"ukec",path:"upload/user",ext:""},fileList:[],select:{noteType:[]},modify:{note_type:"",note_body:"",note_files:[],page_type:""},rules:{note_type:[{required:!0,message:"请选择你的修改类别",trigger:"blur"}],note_body:[{required:!0,message:"请填写你的备注",trigger:"blur"}],note_files:[{required:!0,message:"请上传你的附件",trigger:"blur"}]}}},mounted:function(){var e=this;switch(e.type){case"cv":case"CV":e.modify.page_type="cv";break;case"ps":case"个人陈述":e.modify.page_type="ps";break;case"letter":case"推荐信":e.modify.page_type="res";break;default:e.modify.page_type="cv"}var t=Object(r.e)("noteType");t?(e.select.noteType=t.NOTE_TYPE_CV,e.modify.note_type=t.NOTE_TYPE_CV[0].id):n.a.get("/code-val/group-key-list").then((function(t){e.select.noteType=t.NOTE_TYPE_CV,e.modify.note_type=t.NOTE_TYPE_CV[0].id,Object(r.k)("noteType",t)}))},computed:{isShow:function(){var e=!1,t="";return this.select.noteType.map((function(e){"内容"==e.cvalue_cn&&(t=e.id)})),this.modify.note_type==t&&(e=!e),e}},methods:{addFile:function(e){this.flieBox=e,console.log(e,"文件监听")},handleClose:function(e){this.cancel("modify")},cancel:function(e){this.$refs[e].resetFields(),this.dialogVisible=!1,this.fileList=[],this.flieBox=[]},submitForm:function(e){var t=this;0==t.flieBox.length?t.modify.note_files=[]:(t.modify.note_files=[],t.flieBox.map((function(e){t.modify.note_files.push({name:e.response.data.filename,url:e.response.data.key})}))),t.$refs[e].validate((function(o){o&&n.a.post("/customer-note/add",t.modify).then((function(o){var n=t.$message({message:"提交成功！",type:"success"});setTimeout((function(){n.close(),t.cancel(e)}),1e3)}))}))}}},c=o(10),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"modify modify_upload"},[o("span",{staticClass:"cv_button modify_button",on:{click:function(t){e.dialogVisible=!0}}},[e._v("修改")]),e._v(" "),o("div",{staticClass:"add add_note"},[o("el-dialog",{attrs:{title:"",visible:e.dialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[o("div",{staticClass:"add_title"},[e._v("修改")]),e._v(" "),o("div",{staticClass:"add_content"},[o("el-form",{ref:"modify",attrs:{model:e.modify,"status-icon":"",rules:e.rules,"label-width":"300px","label-position":"top"}},[o("el-form-item",{attrs:{label:"类别:",prop:"note_type"}},[o("el-select",{staticClass:"widthAll",attrs:{placeholder:"类别"},model:{value:e.modify.note_type,callback:function(t){e.$set(e.modify,"note_type",t)},expression:"modify.note_type"}},e._l(e.select.noteType,(function(e,t){return o("el-option",{key:t,attrs:{label:e.cvalue_cn,value:e.id}})})),1)],1),e._v(" "),e.isShow?o("el-form-item",{staticClass:"modfityTip",attrs:{label:"  "}},[o("span",[e._v("内容修改只可进行1次，修改件的返还时间为72小时")])]):e._e(),e._v(" "),o("el-form-item",{staticClass:"cvTextareaBox modifyText",attrs:{label:"备注:",prop:"note_body"}},[o("el-input",{staticClass:"noteTextarea",attrs:{type:"textarea",autocomplete:"off"},model:{value:e.modify.note_body,callback:function(t){e.$set(e.modify,"note_body",t)},expression:"modify.note_body"}})],1),e._v(" "),o("el-form-item",{staticClass:"upload_lang",attrs:{label:"附件:",prop:"note_files"}},[o("upload-btn",e._g({attrs:{config:e.configuration}},{uploadFile:e.addFile}))],1)],1),e._v(" "),o("div",{staticClass:"footer_button"},[o("span",{on:{click:function(t){return e.cancel("modify")}}},[o("i",[e._v("取消")])]),e._v(" "),o("span",{on:{click:function(t){return e.submitForm("modify")}}},[e._v("提交")])])],1)])],1)])}),[],!1,null,null,null);t.a=component.exports},510:function(e,t,o){},558:function(e,t,o){"use strict";var n=o(510);o.n(n).a},596:function(e,t,o){"use strict";o.r(t);var n=o(71),r={transition:"",layout:"refactor",components:{InfoModify:o(481).a},data:function(){return{modifyType:"cv",outerVisible:!1,tableData:[],titleMaxLength:500,cvForm3:{start_time:"",end_time:"",exp:"",program:"",job:""},rules:{start_time:[{required:!0,message:"请选择您的学术经历起始时间",trigger:"blur"}],end_time:[{required:!0,message:"请选择您的学术经历结束时间",trigger:"blur"}],exp:[{required:!0,message:"请输入您的学术经历描述",trigger:"blur"}],program:[{required:!0,message:"请输入您的项目名称",trigger:"blur"}],job:[{required:!0,message:"请输入您的职位",trigger:"blur"}]}}},mounted:function(){this.getAcademic()},methods:{getAcademic:function(){var e=this;n.a.get("/customer-academic-career/list").then((function(t){e.tableData=t}))},prev:function(){this.$router.push("/writ/cv/step2")},next:function(){this.$router.push("/writ/cv/step4")},cancel:function(e){this.$refs[e].resetFields(),this.outerVisible=!1},submitForm:function(e){var t=this;t.$refs[e].validate((function(o){o&&n.a.post("/customer-academic-career/add",t.cvForm3).then((function(o){var n=t.$message({message:"提交成功！",type:"success"});setTimeout((function(){n.close(),t.getAcademic(),t.$refs[e].resetFields(),t.outerVisible=!1}),1e3)}))}))}}},l=(o(558),o(10)),component=Object(l.a)(r,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"cv_step3"},[o("div",{staticClass:"title_box"},[e._m(0),e._v(" "),o("div",{staticClass:"modify_wrap"},[o("span",{staticClass:"cv_button",on:{click:function(t){e.outerVisible=!0}}},[e._v("新增学术经历")])])]),e._v(" "),o("div",{staticClass:"cv_content centerTable step3Table cv2"},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[o("el-table-column",{attrs:{type:"index",label:"序号",width:"74"}}),e._v(" "),o("el-table-column",{attrs:{prop:"start_time",label:"开始时间",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"end_time",label:"结束时间",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"program",label:"项目名称",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"job",label:"职位",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"exp",label:"经历描述"}})],1)],1),e._v(" "),o("div",{staticClass:"cv_footer"},[o("div",{staticClass:"footer_button"},[o("span",{on:{click:e.prev}},[o("i",[e._v("上一步")])]),e._v(" "),o("span",{on:{click:e.next}},[e._v("下一步")])]),e._v(" "),o("span",{staticClass:"next"},[e._v("请在退出前点击“下一步”按钮，您当前填写的信息可以被保存。")])]),e._v(" "),o("div",{staticClass:"add add_note"},[o("el-dialog",{attrs:{title:"",visible:e.outerVisible},on:{"update:visible":function(t){e.outerVisible=t}}},[o("div",{staticClass:"add_title"},[e._v("添加学术经历")]),e._v(" "),o("div",{staticClass:"add_content"},[o("el-form",{ref:"cvForm3",attrs:{model:e.cvForm3,"status-icon":"",rules:e.rules,"label-width":"300px","label-position":"top"}},[o("el-form-item",{attrs:{label:"开始时间",prop:"start_time"}},[o("el-date-picker",{staticClass:"widthAll",attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"请选择您的学术经历起始时间"},model:{value:e.cvForm3.start_time,callback:function(t){e.$set(e.cvForm3,"start_time",t)},expression:"cvForm3.start_time"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"结束时间",prop:"end_time"}},[o("el-date-picker",{staticClass:"widthAll",attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"请选择您的学术经历结束时间"},model:{value:e.cvForm3.end_time,callback:function(t){e.$set(e.cvForm3,"end_time",t)},expression:"cvForm3.end_time"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"项目名称",prop:"program"}},[o("el-input",{attrs:{placeholder:"请输入您的项目名称",autocomplete:"off"},model:{value:e.cvForm3.program,callback:function(t){e.$set(e.cvForm3,"program",t)},expression:"cvForm3.program"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"职位",prop:"job"}},[o("el-input",{attrs:{placeholder:"请输入您的职位",autocomplete:"off"},model:{value:e.cvForm3.job,callback:function(t){e.$set(e.cvForm3,"job",t)},expression:"cvForm3.job"}})],1),e._v(" "),o("el-form-item",{staticClass:"cvTextareaBox",attrs:{label:"经历描述",prop:"exp"}},[o("el-input",{staticClass:"cvTextarea",attrs:{type:"textarea",maxlength:"100","show-word-limit":"",placeholder:"[在这个部分描述做过的项目，可以是独立的毕业设计/论文，或者小组的项目、作业，参加的宣讲，学术会议或者讲座等等][写出你负责的具体内容，调研、考察、访谈、分析、感受等，以及最终的项目成果，受到导师好评、获奖等][如：进行XX行业研究，负责调研XX的商业模式、市场空间、XXXX等影响因素， 筛选出XXXX通过XXX数据库、问卷调研、XX实验，分析其核心竞争力和持续盈利能力， 撰写3000+字调研报告，并提出XXX建议；此项目锻炼了我的XXXXX能力]整体框架遵循【做了什么】【结果是什么】【有什么价值】的逻辑。",autocomplete:"off"},model:{value:e.cvForm3.exp,callback:function(t){e.$set(e.cvForm3,"exp",t)},expression:"cvForm3.exp"}})],1)],1),e._v(" "),o("div",{staticClass:"footer_button"},[o("span",{on:{click:function(t){return e.cancel("cvForm3")}}},[o("i",[e._v("取消")])]),e._v(" "),o("span",{on:{click:function(t){return e.submitForm("cvForm3")}}},[e._v("保存")])])],1)])],1)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"cv_title"},[t("p",[this._v("学术经历")]),this._v(" "),t("span",[this._v("请认真填写您空缺的资料，保存后不能修改，如需修改请联系您的顾问老师进行修改")])])}],!1,null,null,null);t.default=component.exports}}]);