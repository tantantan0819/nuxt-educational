(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{486:function(t,e,n){},520:function(t,e,n){"use strict";var l=n(486);n.n(l).a},524:function(t,e,n){},534:function(t,e,n){"use strict";var l={props:["tabel"],data:function(){return{addShow:!0}},methods:{closeDialog:function(){this.$emit("closeContr","false")}}},r=(n(520),n(10)),component=Object(r.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modify fileList"},[n("div",{staticClass:"add add_note"},[n("el-dialog",{attrs:{title:"",visible:t.addShow},on:{"update:visible":function(e){t.addShow=e},close:t.closeDialog}},[n("div",{staticClass:"add_title"},[t._v("文件列表")]),t._v(" "),n("div",{staticClass:"add_content"},[n("div",{staticClass:"add_note modify_upload mul_upload"},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",data:t.tabel,"tooltip-effect":"dark"}},[n("el-table-column",{attrs:{prop:"name",label:"文件名称"}}),t._v(" "),n("el-table-column",{attrs:{prop:"file_url",label:"文件路径"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("a",{attrs:{href:e.row.file_url,target:"_blank"}},[t._v(t._s(e.row.file_url))])]}}])})],1)],1)])])],1)])}),[],!1,null,null,null);e.a=component.exports},569:function(t,e,n){"use strict";var l=n(524);n.n(l).a},604:function(t,e,n){"use strict";n.r(e);n(34);var l=n(5),r=n(89),o=n(4),c={components:{FileList:n(534).a},data:function(){return{isList:!1,listData:[],confirm:{},tableData:[],planId:"",idArr:[],isDisabled:!1,confirmIndex:null,selectArr:[]}},mounted:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t).planId=n.$route.query.id,n.confirmIndex=n.$route.query.index,e.next=5,r.a.get("/customer-material/apply-list",{id:n.planId});case 5:(l=e.sent)&&(n.confirm=l[n.confirmIndex],n.confirm.list.length>0&&("未确认"==n.confirm.material_status?n.isDisabled=!1:t.isDisabled=!0,n.confirm.list.map((function(t,e){t.university_cn=n.confirm.university_cn,t.major_cn=n.confirm.major_cn,"已通过"==t.status&&n.selectArr.push(t)})),n.tableData=n.confirm.list,n.$nextTick((function(){n.selectArr.map((function(t){n.$refs.multipleTable.toggleRowSelection(t)}))}))));case 7:case"end":return e.stop()}}),e)})))()},filters:{timeFormat:function(t){return Object(o.m)(t)}},methods:{checkboxT:function(t,e){return this.isDisabled?0:1},handleSelectionChange:function(t){var e=this;t.map((function(t){e.idArr.push(t.id)}))},showList:function(data){console.log(data,"---yangguan "),this.listData=data,this.isList=!0},closeList:function(){this.isList=!1},sure:function(){var t=this;if(t.idArr.length>0){var e=t.idArr.join(",");r.a.post("/customer-material/sure",{question_id:t.planId,material_ids:e}).then((function(e){var n=t.$message({message:"提交成功！",type:"success"});setTimeout((function(){n.close(),t.$router.push("/writ/confirm")}),1e3)}))}else t.$message.warning("请先选择您要确认的材料！")}}},f=(n(569),n(10)),component=Object(f.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cv con"},[n("div",{staticClass:"cv_step2"},[t._m(0),t._v(" "),n("div",{staticClass:"refactor_table"},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",data:t.tableData,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"50",selectable:t.checkboxT}}),t._v(" "),n("el-table-column",{attrs:{label:"用于申请院校",prop:"university_cn"}}),t._v(" "),n("el-table-column",{attrs:{label:"用于申请专业",prop:"major_cn"}}),t._v(" "),n("el-table-column",{attrs:{label:"材料类型",prop:"materialname_cn"}}),t._v(" "),n("el-table-column",{attrs:{label:"材料名称",prop:"material_name"}}),t._v(" "),n("el-table-column",{attrs:{label:"文件"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.file_url_data.length<2?n("a",{attrs:{href:e.row.file_url_data[0].file_url,target:"_blank"}},[t._v(t._s(e.row.file_url_data[0].name))]):n("i",{staticClass:"showList",on:{click:function(n){return t.showList(e.row.file_url_data)}}},[t._v("文件列表")])]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"上传时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(t._f("timeFormat")(e.row.create_time)))])]}}])})],1)],1),t._v(" "),t.isDisabled?t._e():n("div",{staticClass:"cv_footer"},[n("div",{staticClass:"confirm_button"},[n("span",{on:{click:function(e){return t.sure()}}},[t._v("确认材料")])]),t._v(" "),t._m(1)])]),t._v(" "),t.isList?n("file-list",t._g({attrs:{tabel:t.listData}},{closeContr:t.closeList})):t._e()],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title_box"},[e("div",{staticClass:"cv_title"},[e("p",[this._v("材料确认")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"next"},[this._v("请勾选您需要确认的材料进行确认，对于您尚有疑问的材料请勿勾选"),e("br"),this._v("若全选材料确认后，该方案将变为已确认，我们将以此材料进行申请")])}],!1,null,null,null);e.default=component.exports}}]);